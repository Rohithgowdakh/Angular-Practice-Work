<div class="container mt-4">
    <h1 class="d-flex justify-content-center">{{selectedMode.toUpperCase()}} Calculator</h1>
    <div class="row">
        <div class="col-md-6">
            <!-- SIP / Lumpsum Switch -->
            <div class="mb-3 d-flex">
                <button 
                    class="btn me-2" 
                    [class.btn-success]="selectedMode === 'sip'" 
                    [class.btn-light]="selectedMode !== 'sip'" 
                    (click)="selectedMode = 'sip'">
                    SIP
                </button>
                <button 
                    class="btn" 
                    [class.btn-success]="selectedMode === 'lumpsum'" 
                    [class.btn-light]="selectedMode !== 'lumpsum'" 
                    (click)="selectedMode = 'lumpsum'">
                    Lumpsum
                </button>
            </div>

            <!-- SIP Fields -->
            <div *ngIf="selectedMode === 'sip'">
                <!-- Monthly Investment -->
                <label class="form-label">Monthly Investment</label>
                <div class="d-flex align-items-center">
                    <input type="range" class="flex-grow-1" [(ngModel)]="monthlyInvestment" min="1000" max="100000" step="500">
                    <input type="text" class="form-control ms-2 text-success" [value]="'₹ ' + monthlyInvestment" readonly>
                </div>
            </div>

            <!-- Lumpsum Fields -->
            <div *ngIf="selectedMode === 'lumpsum'">
                <!-- Total Investment -->
                <label class="form-label">Total Investment</label>
                <div class="d-flex align-items-center">
                    <input type="range" class="flex-grow-1" [(ngModel)]="totalInvestment" min="10000" max="10000000" step="5000">
                    <input type="text" class="form-control ms-2 text-success" [value]="'₹ ' + totalInvestment" readonly>
                </div>
            </div>

            <!-- Expected Return Rate -->
            <label class="form-label mt-3">Expected Return Rate (p.a)</label>
            <div class="d-flex align-items-center">
                <input type="range" class="flex-grow-1" [(ngModel)]="expectedRate" min="1" max="30" step="0.5">
                <input type="number" class="form-control ms-2 text-success" [(ngModel)]="expectedRate" min="1" max="30" step="0.5" (change)="validateExpectedRate()">
            </div>

            <!-- Time Period -->
            <label class="form-label mt-3">Time Period(Years)</label>
            <div class="d-flex align-items-center">
                <input type="range" class="flex-grow-1" [(ngModel)]="timePeriod" min="1" max="30" step="1">
                <input type="text" class="form-control ms-2 text-success" [value]="timePeriod + ' Yr'" readonly>
            </div>
        </div>

        <!-- Investment Summary -->
        <div class="col-md-6 d-flex align-items-center">
            <div class="mt-4">
                <h5><strong>Invested Amount</strong>: ₹{{ investedAmount | number }}</h5>
                <h5><strong>Est. Returns</strong>: ₹{{ estimatedReturns | number }}</h5>
                <h5><strong>Total Value</strong>: ₹{{ totalValue | number }}</h5>
                <!-- Invest Now Button -->
                <a class="btn btn-success btn-lg mt-3" href="https://groww.in/login">INVEST NOW</a>
            </div>
        </div>
    </div>
</div>
